import { Meta, Story, Canvas, Controls } from '@storybook/addon-docs/blocks';
import * as TileStories from './Tile.stories';
import { Tile } from './Tile';
import {
  CustomTabs,
  Tab,
  DoVsDontRow,
  DoBlockItem,
  DontBlockItem,
} from '../../../../.storybook/components';
import CommonRulesDoAndDont from '../../../../.storybook/components/DoVsDont/CommonRulesDoAndDont.mdx';
import { Box } from '../Utility';

<Meta title='Containment/Tile' of={TileStories} />

# ðŸ“‹ Tile

<CustomTabs>
  <Tab label="Overview">

## Introduction

Tile components are compact, card-like interactive elements designed for horizontal lists, carousels, or grids. They use a flexible composite pattern that allows you to compose tiles with spots, text content, tags, and custom elements in a vertical layout.

> View in [Figma](https://www.figma.com/design/JxaLVMTWirCpU0rsbZ30k7/2.-Components-Library?node-id=5783-1328).

## Anatomy

- **TileSpot**: Visual icon or element at the top
- **TileContent**: Container for title, description, and trailing content
  - **TileTitle**: The main label of the item (required)
  - **TileDescription (optional)**: Provides additional context
  - **TileTrailingContent (optional)**: Container for trailing content like Tags, Text, etc.

## Properties

<Canvas of={TileStories.Base} />
<Controls of={TileStories.Base} />

### Appearance & States

Two appearance variants are available with multiple interactive states:

**Appearances:**
- **no-background** (default): Transparent background with pressed states
- **card**: Surface background color with pressed states

**States:**
- **Default**: Base state with no interaction
- **Pressed**: Darker background when pressed
- **Disabled**: Non-interactive state with disabled styles

<Canvas of={TileStories.AppearanceShowcase} />

### Variants

Tile components support various configurations including different spot icons, with/without description, and with/without trailing content (tags).

<Canvas of={TileStories.VariantsShowcase} />

### Secondary Action (Long Press)

Use `onLongPress` for secondary actions on mobile devices. Try long pressing the tile below to see it in action.

<Canvas of={TileStories.WithSecondaryAction} />

### Horizontal Lists

Horizontal lists are used to display a list of tiles in a horizontal scrollable container.

<Canvas of={TileStories.HorizontalList} />

### Responsive Layout

By default the tile fills the width of its container. The title and description will be truncated to one line.

<Canvas of={TileStories.ResponsiveLayout} />

### Centered Content

Use the `centered` prop to vertically center tile content. This is useful when a tile has less content than its neighbors, like a "Show more" tile in a grid.

<Canvas of={TileStories.CenteredShowcase} />

</Tab>
<Tab label="Implementation">

## Setup

Install and set up the library with our [Setup Guide â†’](?path=/docs/getting-started-setup--docs).

## Basic Usage

```tsx
import {
  Tile,
  TileSpot,
  TileContent,
  TileTitle,
  TileDescription,
} from '@ledgerhq/lumen-ui-rnative';
import { Settings } from '@ledgerhq/lumen-ui-rnative/symbols';

function MyComponent() {
  return (
    <Tile
      lx={{ width: 's128' }}
      onPress={() => console.log('Primary action')}
      onLongPress={() => console.log('Secondary action')}
    >
      <TileSpot appearance='icon' icon={Settings} />
      <TileContent>
        <TileTitle>Settings</TileTitle>
        <TileDescription>Manage preferences</TileDescription>
      </TileContent>
    </Tile>
  );
}
```

## Advanced Patterns

### With Trailing Content (Tags, etc.)

```tsx
import {
  Tile,
  TileSpot,
  TileContent,
  TileTitle,
  TileDescription,
  TileTrailingContent,
  Tag,
} from '@ledgerhq/lumen-ui-rnative';
import { Bitcoin } from '@ledgerhq/lumen-ui-rnative/symbols';

<Tile appearance='card'>
  <TileSpot appearance='icon' icon={Bitcoin} />
  <TileContent>
    <TileTitle>Bitcoin</TileTitle>
    <TileDescription>BTC</TileDescription>
    <TileTrailingContent>
      <Tag label='Active' appearance='success' />
    </TileTrailingContent>
  </TileContent>
</Tile>;
```

### Disabled State

```tsx
<Tile disabled>
  <TileSpot appearance='icon' icon={Settings} />
  <TileContent>
    <TileTitle>Settings</TileTitle>
    <TileDescription>Unavailable</TileDescription>
  </TileContent>
</Tile>
```

### Centered Content

Use the `centered` prop to vertically center the tile content. This is useful when a tile has less content than its neighbors in a grid, like a "Show more" tile that needs to align with richer tiles.

```tsx
import { ChevronRight } from '@ledgerhq/lumen-ui-rnative/symbols';
import { View } from 'react-native';

// In a grid where other tiles have more content
<View style={{ flexDirection: 'row', gap: 8 }}>
  <Tile appearance='card'>
    <TileSpot appearance='coin' icon='btc' />
    <TileContent>
      <TileTitle>Title</TileTitle>
      <TileDescription>Description</TileDescription>
      <TileTrailingContent>
        <Tag label='Label' />
      </TileTrailingContent>
    </TileContent>
  </Tile>

  {/* Show more tile with centered content */}
  <Tile appearance='card' centered>
    <TileSpot appearance='icon' icon={ChevronRight} />
    <TileContent>
      <TileTitle>Show more</TileTitle>
    </TileContent>
  </Tile>
</View>
```

### With Coin Icon

```tsx
import {
  Tile,
  TileSpot,
  TileContent,
  TileTitle,
  TileDescription,
} from '@ledgerhq/lumen-ui-rnative';

<Tile onPress={() => console.log('Clicked!')}>
  <TileSpot appearance='coin' icon='btc' />
  <TileContent>
    <TileTitle>Bitcoin</TileTitle>
    <TileDescription>BTC</TileDescription>
  </TileContent>
</Tile>;
```

### Horizontal List

```tsx
import { ScrollView } from 'react-native';

<ScrollView horizontal>
  {items.map((item) => (
    <Tile key={item.id} lx={{ width: 's128', flexShrink: 0 }}>
      <TileSpot appearance='icon' icon={item.icon} />
      <TileContent>
        <TileTitle>{item.title}</TileTitle>
        <TileDescription>{item.description}</TileDescription>
      </TileContent>
    </Tile>
  ))}
</ScrollView>;
```

### With Secondary Action (Long Press)

```tsx
    <Tile
  onPress={() => console.log('Primary action')}
  onLongPress={() => console.log('Secondary action - show menu')}
>
  <TileSpot appearance='icon' icon={Settings} />
  <TileContent>
    <TileTitle>Settings</TileTitle>
    <TileDescription>Long press for options</TileDescription>
  </TileContent>
</Tile>
```

## Do's and Don'ts

<Box lx={{ flexDirection: 'column', gap: 's24' }}>

### Trailing Content

<DoVsDontRow>
  <DoBlockItem
    title='Use TileTrailingContent for additional elements'
    description='Wrap Tags, labels, or supplementary content inside TileTrailingContent within TileContent for proper 4px spacing.'
  >

```tsx
{/* prettier-ignore */}
<Tile>
  <TileSpot appearance="icon" icon={Settings} />
  <TileContent>
    <TileTitle>Title</TileTitle>
    <TileDescription>Description</TileDescription>
    <TileTrailingContent>
      <Tag label="Active" />
    </TileTrailingContent>
  </TileContent>
</Tile>
```

  </DoBlockItem>
  <DontBlockItem
    title="Don't place trailing content directly in TileContent"
    description='Placing Tags or other elements directly in TileContent without TileTrailingContent results in incorrect spacing.'
  >

```tsx
{/* prettier-ignore */}
<Tile>
  <TileSpot appearance="icon" icon={Settings} />
  <TileContent>
    <TileTitle>Title</TileTitle>
    <TileDescription>Description</TileDescription>
    <Tag label="Active" />
  </TileContent>
</Tile>
```

  </DontBlockItem>
</DoVsDontRow>

<CommonRulesDoAndDont />

</Box>

</Tab>
</CustomTabs>
